["do",

["def", "nil?", ["fn", ["a"], ["=", null, "a"]]],
["def", "true?", ["fn", ["a"], ["=", true, "a"]]],
["def", "false?", ["fn", ["a"], ["=", false, "a"]]],
["def", "string?", ["fn", ["a"], ["if", ["=", "a", null], false, ["=", ["`", "String"], [".-", [".-", "a", ["`", "constructor"]], ["`", "name"]]]]]],

["def", "pr-str", ["fn", ["&", "a"], [".", "a", ["`", "join"], ["`", " "]]]],
["def", "str", ["fn", ["&", "a"], [".", "a", ["`", "join"], ["`", ""]]]],
["def", "println", ["fn", ["&", "a"], ["apply", [".-", "console", ["`", "log"]], "a"]]],

["def", ">=", ["fn", ["a", "b"], ["if", ["<", "a", "b"], false, true]]],
["def", ">", ["fn", ["a", "b"], ["if", [">=", "a", "b"], ["if", ["=", "a", "b"], false, true], false]]],
["def", "<=", ["fn", ["a", "b"], ["if", [">", "a", "b"], false, true]]],

["def", "list", ["fn", ["&", "a"], "a"]],
["def", "list?", ["fn", ["a"], [".", "Array", ["`", "isArray"], "a"]]],

["def", "get", ["fn", ["a", "b"], [".-", "a", "b"]]],
["def", "set", ["fn", ["a", "b", "c"], [".-", "a", "b", "c"]]],
["def", "contains?", ["fn", ["a", "b"], [".", "a", ["`", "hasOwnProperty"], "b"]]],
["def", "keys", ["fn", ["a"], [".", "Object", ["`", "keys"], "a"]]],
["def", "vals", ["fn", ["a"], ["map",["fn",["k"],["get","a","k"]],["keys", "a"]]]],

["def", "cons", ["fn", ["a", "b"], [".", ["`", []], ["`", "concat"], ["list", "a"], "b"]]],
["def", "concat", ["fn", ["&", "a"], [".", [".-", ["list"], ["`", "concat"]], ["`", "apply"], ["list"], "a"]]],
["def", "nth", "get"],
["def", "first", ["fn", ["a"], ["nth", "a", 0]]],
["def", "rest", ["fn", ["a"], [".", "a", ["`", "slice"], 1]]],
["def", "empty?", ["fn", ["a"], ["if", ["list?", "a"], ["if", ["=", 0, [".-", "a", ["`", "length"]]], true, false], ["=", "a", null]]]],
["def", "count", ["fn", ["a"], [".-", "a", "length"]]],

["def", "apply", ["fn", ["a", "b"], [".", "a", ["`", "apply"], "a", "b"]]],
["def", "map", ["fn", ["a", "b"], [".", "b", ["`", "map"], "a"]]],

["def", "not", ["fn", ["a"], ["if", "a", false, true]]],

["def", "repl", ["fn",["prompt", "rep"], ["require", ["`", "fs"]]]]

]

